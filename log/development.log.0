# Logfile created on Thu Feb 03 09:49:42 +0200 2022 by logger.rb/22285
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mOption Load (15.6ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mIntegration Load (15.6ms)[0m   [0mSELECT * FROM `integrations` LIMIT 1[0m
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mOption Columns (15.7ms)[0m   [0mSHOW FIELDS FROM `options`[0m
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#logout (for 127.0.0.1 at 2022-02-03 09:50:07) [GET]
  Parameters: {"action"=>"logout", "controller"=>"login"}
Debug: login#logout option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#logout option: OS is Windows_NT
Debug: login#logout is_remote?: false
Debug: login#logout cookies_required:
Debug: login#logout set_locale:
Debug: login#logout set_locale: locale is en
Debug: login#logout startup:
Debug: login#logout display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#logout display_control: browser is ffox
Debug: login#logout set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: login#logout login_from_cookie:
Debug: login#logout login_from_cookie: use_login is true, local
Debug: login#logout check_login:
Debug: login#logout check_login: not in cookies_test
Debug: login#logout check_login: not is_local?
Debug: login#logout check_login: using login
Debug: login#logout check_login: logged in
Debug: login#logout in login#logout
Debug: login#logout logout auth_token is nil
  [4;35;1mRememberLogin Load (21.8ms)[0m   [0mSELECT * FROM `remember_logins` WHERE (token = NULL) [0m
Info 03-02-22 0950: login#logout reset session
Info 03-02-22 0950: login#logout session[:top] = 
Redirected to http://localhost:3000/login/login
Completed in 254ms (DB: 22) | 302 Found [http://localhost/login/logout]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 09:50:12) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Debug: login#login set_locale:
Debug: login#login set_locale: locale is en
Debug: login#login startup:
Info 03-02-22 0950: login#login New session
Info 03-02-22 0950: login#login Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#login startup: Current database version is 87
  [4;36;1mDynamicString Columns (22.1ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#login startup: update maps
Debug: login#login startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#login startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#login startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#login startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 09:50:13' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#login startup:0 found
Debug: login#login startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#login startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#login display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#login display_control: browser is ffox
Debug: login#login login_from_cookie:
Debug: login#login login_from_cookie: use_login is true, local
Debug: login#login in login#login
Rendering template within layouts/login
Rendering login/login
Completed in 354ms (View: 69, DB: 38) | 200 OK [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 09:50:17) [POST]
  Parameters: {"name"=>"manager", "commit"=>"Login", "action"=>"login", "controller"=>"login", "password"=>"[FILTERED]"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Debug: login#login set_locale:
Debug: login#login set_locale: locale is en
Debug: login#login startup:
Debug: login#login display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#login display_control: browser is ffox
Debug: login#login login_from_cookie:
Debug: login#login login_from_cookie: use_login is true, local
Debug: login#login in login#login
  [4;36;1mUser Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'manager') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 185ms (DB: 31) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#list (for 127.0.0.1 at 2022-02-03 09:50:18) [GET]
  Parameters: {"action"=>"list", "controller"=>"reservation"}
Debug: reservation#list option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#list option: OS is Windows_NT
Debug: reservation#list is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#list cookies_required:
Debug: reservation#list set_locale:
Debug: reservation#list set_locale: locale is en
Debug: reservation#list startup:
Debug: reservation#list display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#list display_control: browser is ffox
Debug: reservation#list set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#list login_from_cookie:
Debug: reservation#list login_from_cookie: use_login is true, local
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` ORDER BY position LIMIT 1[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mRigtype Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rigtypes`[0m
  [4;35;1mReservation Load Including Associations (15.6ms)[0m   [0mSELECT `reservations`.`id` AS t0_r0, `reservations`.`camper_id` AS t0_r1, `reservations`.`rigtype_id` AS t0_r2, `reservations`.`space_id` AS t0_r3, `reservations`.`discount_id` AS t0_r4, `reservations`.`group_id` AS t0_r5, `reservations`.`startdate` AS t0_r6, `reservations`.`enddate` AS t0_r7, `reservations`.`deposit` AS t0_r8, `reservations`.`override_total` AS t0_r9, `reservations`.`special_request` AS t0_r10, `reservations`.`slides` AS t0_r11, `reservations`.`length` AS t0_r12, `reservations`.`rig_age` AS t0_r13, `reservations`.`vehicle_license` AS t0_r14, `reservations`.`vehicle_state` AS t0_r15, `reservations`.`checked_in` AS t0_r16, `reservations`.`adults` AS t0_r17, `reservations`.`pets` AS t0_r18, `reservations`.`kids` AS t0_r19, `reservations`.`lock_version` AS t0_r20, `reservations`.`total` AS t0_r21, `reservations`.`confirm` AS t0_r22, `reservations`.`created_at` AS t0_r23, `reservations`.`ext_charges` AS t0_r24, `reservations`.`tax_str` AS t0_r25, `reservations`.`tax_amount` AS t0_r26, `reservations`.`unconfirmed_remote` AS t0_r27, `reservations`.`log` AS t0_r28, `reservations`.`vehicle_license_2` AS t0_r29, `reservations`.`vehicle_state_2` AS t0_r30, `reservations`.`recommender_id` AS t0_r31, `reservations`.`seasonal_rate` AS t0_r32, `reservations`.`seasonal_charges` AS t0_r33, `reservations`.`seasonal` AS t0_r34, `reservations`.`gateway_transaction` AS t0_r35, `reservations`.`onetime_discount` AS t0_r36, `reservations`.`archived` AS t0_r37, `reservations`.`updated_on` AS t0_r38, `reservations`.`storage` AS t0_r39, `reservations`.`updated_at` AS t0_r40, `reservations`.`sitetype_id` AS t0_r41, `reservations`.`next` AS t0_r42, `reservations`.`prev` AS t0_r43, `reservations`.`cancelled` AS t0_r44, `reservations`.`checked_out` AS t0_r45, `campers`.`id` AS t1_r0, `campers`.`last_name` AS t1_r1, `campers`.`first_name` AS t1_r2, `campers`.`address` AS t1_r3, `campers`.`city` AS t1_r4, `campers`.`state` AS t1_r5, `campers`.`mail_code` AS t1_r6, `campers`.`activity` AS t1_r7, `campers`.`lock_version` AS t1_r8, `campers`.`phone` AS t1_r9, `campers`.`email` AS t1_r10, `campers`.`idnumber` AS t1_r11, `campers`.`country_id` AS t1_r12, `campers`.`phone_2` AS t1_r13, `campers`.`address2` AS t1_r14, `campers`.`notes` AS t1_r15, `campers`.`addl` AS t1_r16, `spaces`.`id` AS t2_r0, `spaces`.`name` AS t2_r1, `spaces`.`power_15a` AS t2_r2, `spaces`.`power_30a` AS t2_r3, `spaces`.`power_50a` AS t2_r4, `spaces`.`water` AS t2_r5, `spaces`.`sewer` AS t2_r6, `spaces`.`length` AS t2_r7, `spaces`.`width` AS t2_r8, `spaces`.`sitetype_id` AS t2_r9, `spaces`.`price_id` AS t2_r10, `spaces`.`special_condition` AS t2_r11, `spaces`.`unavailable` AS t2_r12, `spaces`.`position` AS t2_r13, `spaces`.`remote_reservable` AS t2_r14, `spaces`.`current` AS t2_r15, `spaces`.`active` AS t2_r16, `rigtypes`.`id` AS t3_r0, `rigtypes`.`name` AS t3_r1, `rigtypes`.`position` AS t3_r2, `rigtypes`.`active` AS t3_r3 FROM `reservations` LEFT OUTER JOIN `campers` ON `campers`.id = `reservations`.camper_id LEFT OUTER JOIN `spaces` ON `spaces`.id = `reservations`.space_id LEFT OUTER JOIN `rigtypes` ON `rigtypes`.id = `reservations`.rigtype_id WHERE (checked_in = 0 and confirm = 1 and archived = 0) ORDER BY unconfirmed_remote desc, startdate, group_id, spaces.position asc[0m
Rendering template within layouts/application
Rendering reservation/list
Rendered shared/_list (15.7ms)
Rendered shared/_list (15.6ms)
Rendered shared/_list (0.0ms)
Rendered shared/_list (0.0ms)
Rendered shared/_list (15.6ms)
Rendered shared/_list (0.0ms)
Rendered shared/_list (0.0ms)
  [4;36;1mGroup Columns (6.5ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = 1) ORDER BY name asc[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` = 2) ORDER BY last_name, first_name asc[0m
Rendered shared/_list (22.1ms)
Rendered shared/_list (15.7ms)
Rendered shared/_list (0.0ms)
Rendered shared/_list (0.0ms)
Rendered shared/_list (15.6ms)
Rendered shared/_reservations (169.3ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 448ms (View: 194, DB: 38) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 09:50:24) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (21.9ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (6.5ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 511ms (View: 163, DB: 29) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 09:50:33) [POST]
  Parameters: {"month"=>"2", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (24.8ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
Completed in 461ms (View: 0, DB: 40) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 09:50:57) [POST]
  Parameters: {"month"=>"10", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;35;1mOption Columns (117.8ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;36;1mUser Columns (8.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mIntegration Load (0.0ms)[0m   [0mSELECT * FROM `integrations` LIMIT 1[0m
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mOption Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 09:53:19) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (46.9ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 539ms (View: 260, DB: 78) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 09:53:30) [POST]
  Parameters: {"month"=>"2", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;36;1mUser Columns (15.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;35;1mSpace Load (15.6ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
Completed in 363ms (View: 0, DB: 63) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 09:53:48) [POST]
  Parameters: {"month"=>"3", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (15.6ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mIntegration Load (0.0ms)[0m   [0mSELECT * FROM `integrations` LIMIT 1[0m
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mOption Columns (22.1ms)[0m   [0mSHOW FIELDS FROM `options`[0m
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 09:56:43) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (15.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 470ms (View: 238, DB: 31) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 09:56:52) [POST]
  Parameters: {"month"=>"9", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (16.8ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
Completed in 486ms (View: 0, DB: 45) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 09:57:31) [POST]
  Parameters: {"month"=>"4", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (15.7ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (13.5ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
Completed in 516ms (View: 0, DB: 36) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 09:57:58) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (22.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (15.6ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 470ms (View: 122, DB: 53) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 09:58:09) [POST]
  Parameters: {"month"=>"9", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (5.1ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
Completed in 501ms (View: 0, DB: 22) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 09:58:45) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 432ms (View: 185, DB: 16) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 09:59:01) [POST]
  Parameters: {"month"=>"6", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (18.9ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
Completed in 486ms (View: 0, DB: 30) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 10:00:31) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (15.6ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.7ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (62.6ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mIntegration Load (0.0ms)[0m   [0mSELECT * FROM `integrations` LIMIT 1[0m
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 10:01:00) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (6.5ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 454ms (View: 201, DB: 38) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 10:01:09) [POST]
  Parameters: {"month"=>"8", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;36;1mUser Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m

NoMethodError (undefined method `sa_columns' for nil:NilClass):
  app/helpers/reservation_helper.rb:126:in `av_init'
  app/helpers/reservation_helper.rb:392:in `custom_available'
  app/models/reservation.rb:521:in `getMonthlyData'
  app/controllers/reservation_controller.rb:992:in `getMonthlyData'
  server:3


Rendered rescues/_trace (46.9ms)
Debug: reservation#getMonthlyData 
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mIntegration Load (0.0ms)[0m   [0mSELECT * FROM `integrations` LIMIT 1[0m
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (13.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 10:03:18) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (40.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (18.1ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (8.1ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (2.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (2.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (10.1ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 836ms (View: 355, DB: 103) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (15.6ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 10:03:36) [POST]
  Parameters: {"month"=>"4", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;35;1mOption Columns (189.3ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (15.7ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (22.2ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
Completed in 602ms (View: 0, DB: 243) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 10:05:00) [POST]
  Parameters: {"month"=>"9", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (2.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (18.1ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (69.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
Completed in 630ms (View: 0, DB: 89) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;36;1mSQL (15.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (63.8ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mOption Load (221.7ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mIntegration Load (62.4ms)[0m   [0mSELECT * FROM `integrations` LIMIT 1[0m
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mOption Columns (76.7ms)[0m   [0mSHOW FIELDS FROM `options`[0m
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 14:39:19) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (84.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (121.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (78.3ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (15.5ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (15.5ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (53.6ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (53.6ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (185.1ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (15.4ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 1435ms (View: 363, DB: 622) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 14:39:21) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (100.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 570ms (View: 100, DB: 163) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 14:40:13) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (22.1ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (15.6ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 423ms (View: 107, DB: 85) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#list (for 127.0.0.1 at 2022-02-03 14:40:38) [GET]
  Parameters: {"action"=>"list", "controller"=>"reservation"}
Debug: reservation#list option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#list option: OS is Windows_NT
Debug: reservation#list is_remote?: false
  [4;35;1mOption Columns (12.5ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#list cookies_required:
Redirected to http://localhost:3000/reservation/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 6050ms (DB: 14) | 302 Found [http://localhost/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#cookies_test (for 127.0.0.1 at 2022-02-03 14:40:44) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"reservation"}
Debug: reservation#cookies_test option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#cookies_test option: OS is Windows_NT
Debug: reservation#cookies_test is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#cookies_test set_locale:
Debug: reservation#cookies_test set_locale: locale is en
Debug: reservation#cookies_test startup:
Info 03-02-22 1440: reservation#cookies_test New session
Info 03-02-22 1440: reservation#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (53.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: reservation#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (31.4ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: reservation#cookies_test startup: update maps
Debug: reservation#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (15.8ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: reservation#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: reservation#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (15.4ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: reservation#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (6.6ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 14:40:44' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: reservation#cookies_test startup:0 found
Debug: reservation#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (31.3ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: reservation#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: reservation#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.63.2 Chrome/91.0.4472.164 Electron/13.5.2 Safari/537.36
Debug: reservation#cookies_test display_control: browser is chrome
Debug: reservation#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 532ms (DB: 201) | 302 Found [http://localhost/reservation/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 14:40:45) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Debug: login#login set_locale:
Debug: login#login set_locale: locale is en
Debug: login#login startup:
Debug: login#login display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.63.2 Chrome/91.0.4472.164 Electron/13.5.2 Safari/537.36
Debug: login#login display_control: browser is chrome
Debug: login#login login_from_cookie:
Debug: login#login login_from_cookie: use_login is true, local
Debug: login#login in login#login
Rendering template within layouts/login
Rendering login/login
Completed in 154ms (View: 47, DB: 16) | 200 OK [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 14:41:11) [POST]
  Parameters: {"name"=>"manager", "commit"=>"Login", "action"=>"login", "controller"=>"login", "password"=>"[FILTERED]"}
Debug: login#login option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (48.2ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Debug: login#login set_locale:
Debug: login#login set_locale: locale is en
Debug: login#login startup:
Debug: login#login display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.63.2 Chrome/91.0.4472.164 Electron/13.5.2 Safari/537.36
Debug: login#login display_control: browser is chrome
Debug: login#login login_from_cookie:
Debug: login#login login_from_cookie: use_login is true, local
Debug: login#login in login#login
  [4;36;1mUser Columns (4.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'manager') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 244ms (DB: 54) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#list (for 127.0.0.1 at 2022-02-03 14:41:12) [GET]
  Parameters: {"action"=>"list", "controller"=>"reservation"}
Debug: reservation#list option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#list option: OS is Windows_NT
Debug: reservation#list is_remote?: false
  [4;35;1mOption Columns (11.9ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#list cookies_required:
Debug: reservation#list set_locale:
Debug: reservation#list set_locale: locale is en
Debug: reservation#list startup:
Debug: reservation#list display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.63.2 Chrome/91.0.4472.164 Electron/13.5.2 Safari/537.36
Debug: reservation#list display_control: browser is chrome
Debug: reservation#list set_current_user:
  [4;36;1mUser Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#list login_from_cookie:
Debug: reservation#list login_from_cookie: use_login is true, local
  [4;36;1mSpace Load (1.0ms)[0m   [0;1mSELECT * FROM `spaces` ORDER BY position LIMIT 1[0m
  [4;35;1mReservation Columns (5.3ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mRigtype Columns (96.4ms)[0m   [0;1mSHOW FIELDS FROM `rigtypes`[0m
  [4;35;1mReservation Load Including Associations (38.0ms)[0m   [0mSELECT `reservations`.`id` AS t0_r0, `reservations`.`camper_id` AS t0_r1, `reservations`.`rigtype_id` AS t0_r2, `reservations`.`space_id` AS t0_r3, `reservations`.`discount_id` AS t0_r4, `reservations`.`group_id` AS t0_r5, `reservations`.`startdate` AS t0_r6, `reservations`.`enddate` AS t0_r7, `reservations`.`deposit` AS t0_r8, `reservations`.`override_total` AS t0_r9, `reservations`.`special_request` AS t0_r10, `reservations`.`slides` AS t0_r11, `reservations`.`length` AS t0_r12, `reservations`.`rig_age` AS t0_r13, `reservations`.`vehicle_license` AS t0_r14, `reservations`.`vehicle_state` AS t0_r15, `reservations`.`checked_in` AS t0_r16, `reservations`.`adults` AS t0_r17, `reservations`.`pets` AS t0_r18, `reservations`.`kids` AS t0_r19, `reservations`.`lock_version` AS t0_r20, `reservations`.`total` AS t0_r21, `reservations`.`confirm` AS t0_r22, `reservations`.`created_at` AS t0_r23, `reservations`.`ext_charges` AS t0_r24, `reservations`.`tax_str` AS t0_r25, `reservations`.`tax_amount` AS t0_r26, `reservations`.`unconfirmed_remote` AS t0_r27, `reservations`.`log` AS t0_r28, `reservations`.`vehicle_license_2` AS t0_r29, `reservations`.`vehicle_state_2` AS t0_r30, `reservations`.`recommender_id` AS t0_r31, `reservations`.`seasonal_rate` AS t0_r32, `reservations`.`seasonal_charges` AS t0_r33, `reservations`.`seasonal` AS t0_r34, `reservations`.`gateway_transaction` AS t0_r35, `reservations`.`onetime_discount` AS t0_r36, `reservations`.`archived` AS t0_r37, `reservations`.`updated_on` AS t0_r38, `reservations`.`storage` AS t0_r39, `reservations`.`updated_at` AS t0_r40, `reservations`.`sitetype_id` AS t0_r41, `reservations`.`next` AS t0_r42, `reservations`.`prev` AS t0_r43, `reservations`.`cancelled` AS t0_r44, `reservations`.`checked_out` AS t0_r45, `campers`.`id` AS t1_r0, `campers`.`last_name` AS t1_r1, `campers`.`first_name` AS t1_r2, `campers`.`address` AS t1_r3, `campers`.`city` AS t1_r4, `campers`.`state` AS t1_r5, `campers`.`mail_code` AS t1_r6, `campers`.`activity` AS t1_r7, `campers`.`lock_version` AS t1_r8, `campers`.`phone` AS t1_r9, `campers`.`email` AS t1_r10, `campers`.`idnumber` AS t1_r11, `campers`.`country_id` AS t1_r12, `campers`.`phone_2` AS t1_r13, `campers`.`address2` AS t1_r14, `campers`.`notes` AS t1_r15, `campers`.`addl` AS t1_r16, `spaces`.`id` AS t2_r0, `spaces`.`name` AS t2_r1, `spaces`.`power_15a` AS t2_r2, `spaces`.`power_30a` AS t2_r3, `spaces`.`power_50a` AS t2_r4, `spaces`.`water` AS t2_r5, `spaces`.`sewer` AS t2_r6, `spaces`.`length` AS t2_r7, `spaces`.`width` AS t2_r8, `spaces`.`sitetype_id` AS t2_r9, `spaces`.`price_id` AS t2_r10, `spaces`.`special_condition` AS t2_r11, `spaces`.`unavailable` AS t2_r12, `spaces`.`position` AS t2_r13, `spaces`.`remote_reservable` AS t2_r14, `spaces`.`current` AS t2_r15, `spaces`.`active` AS t2_r16, `rigtypes`.`id` AS t3_r0, `rigtypes`.`name` AS t3_r1, `rigtypes`.`position` AS t3_r2, `rigtypes`.`active` AS t3_r3 FROM `reservations` LEFT OUTER JOIN `campers` ON `campers`.id = `reservations`.camper_id LEFT OUTER JOIN `spaces` ON `spaces`.id = `reservations`.space_id LEFT OUTER JOIN `rigtypes` ON `rigtypes`.id = `reservations`.rigtype_id WHERE (checked_in = 0 and confirm = 1 and archived = 0) ORDER BY unconfirmed_remote desc, startdate, group_id, spaces.position asc[0m
Rendering template within layouts/application
Rendering reservation/list
Rendered shared/_list (47.4ms)
Rendered shared/_list (10.2ms)
Rendered shared/_list (9.0ms)
Rendered shared/_list (8.0ms)
Rendered shared/_list (7.0ms)
Rendered shared/_list (8.0ms)
Rendered shared/_list (8.0ms)
  [4;36;1mGroup Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (1.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = 1) ORDER BY name asc[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` = 2) ORDER BY last_name, first_name asc[0m
Rendered shared/_list (34.9ms)
Rendered shared/_list (8.0ms)
Rendered shared/_list (6.0ms)
Rendered shared/_list (7.0ms)
Rendered shared/_list (7.0ms)
Rendered shared/_reservations (270.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 854ms (View: 445, DB: 164) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 14:41:18) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.7ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.63.2 Chrome/91.0.4472.164 Electron/13.5.2 Safari/537.36
Debug: reservation#available display_control: browser is chrome
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (1.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (1.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 385ms (View: 142, DB: 42) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 14:41:28) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (74.4ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.63.2 Chrome/91.0.4472.164 Electron/13.5.2 Safari/537.36
Debug: reservation#available display_control: browser is chrome
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (8.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (15.7ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (15.6ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (59.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 551ms (View: 178, DB: 175) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 14:42:17) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (6.5ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (15.6ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 501ms (View: 185, DB: 69) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 14:58:01) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (15.6ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 570ms (View: 185, DB: 78) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 14:58:05) [POST]
  Parameters: {"month"=>"3", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;35;1mOption Columns (37.8ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (53.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
Completed in 517ms (View: 0, DB: 138) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:15:15) [POST]
  Parameters: {"month"=>"10", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (22.1ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
Completed in 586ms (View: 0, DB: 38) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:20:36) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (6.5ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (6.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (6.5ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (69.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (38.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 655ms (View: 210, DB: 142) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mIntegration Load (0.0ms)[0m   [0mSELECT * FROM `integrations` LIMIT 1[0m
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mOption Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:21:08) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (6.5ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 432ms (View: 201, DB: 53) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:21:17) [POST]
  Parameters: {"month"=>"2", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;35;1mSpace Load (15.6ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
Completed in 432ms (View: 0, DB: 31) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (6.5ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:21:27) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (15.7ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (15.6ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 401ms (View: 100, DB: 53) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:21:41) [POST]
  Parameters: {"month"=>"6", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
Completed in 354ms (View: 16, DB: 47) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:21:50) [POST]
  Parameters: {"month"=>"2", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (15.7ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (15.6ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
Completed in 432ms (View: 16, DB: 78) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:21:53) [POST]
  Parameters: {"month"=>"10", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;36;1mUser Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (22.2ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
Completed in 332ms (View: 0, DB: 53) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:21:58) [POST]
  Parameters: {"month"=>"3", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
Completed in 370ms (View: 0, DB: 31) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:22:02) [POST]
  Parameters: {"month"=>"1", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;35;1mOption Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;36;1mUser Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
Completed in 332ms (View: 0, DB: 47) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:22:09) [POST]
  Parameters: {"month"=>"2", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
Completed in 432ms (View: 0, DB: 47) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:22:21) [POST]
  Parameters: {"month"=>"3", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;35;1mOption Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (6.5ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
Completed in 301ms (View: 0, DB: 22) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:22:23) [POST]
  Parameters: {"month"=>"2", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (62.5ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (15.6ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
Completed in 432ms (View: 0, DB: 78) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:22:24) [POST]
  Parameters: {"month"=>"1", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;36;1mOption Load (15.6ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;35;1mOption Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;36;1mUser Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;35;1mSpace Load (15.6ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
Completed in 370ms (View: 16, DB: 62) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:22:28) [POST]
  Parameters: {"month"=>"3", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSpace Load (15.6ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
Completed in 301ms (View: 0, DB: 47) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:24:52) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 417ms (View: 185, DB: 47) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:24:58) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (6.5ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (6.5ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 417ms (View: 109, DB: 29) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:26:32) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.7ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (6.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (15.6ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (15.6ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 417ms (View: 91, DB: 100) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (15.6ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:26:36) [POST]
  Parameters: {"month"=>"2", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (6.5ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
Completed in 401ms (View: 0, DB: 38) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:26:40) [POST]
  Parameters: {"month"=>"3", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;35;1mOption Columns (69.1ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (6.5ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
Completed in 401ms (View: 0, DB: 76) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:26:42) [POST]
  Parameters: {"month"=>"2", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (15.7ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (15.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (15.6ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
Completed in 407ms (View: 0, DB: 63) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:26:45) [POST]
  Parameters: {"month"=>"1", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;35;1mOption Columns (22.1ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (6.5ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
Completed in 401ms (View: 0, DB: 60) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:26:49) [POST]
  Parameters: {"month"=>"7", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (15.6ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
Completed in 354ms (View: 0, DB: 62) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:26:50) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.7ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 408ms (View: 169, DB: 63) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:26:56) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (47.1ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (15.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 432ms (View: 100, DB: 78) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:27:08) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (6.5ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (47.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 464ms (View: 185, DB: 100) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:27:14) [POST]
  Parameters: {"month"=>"2", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
Completed in 385ms (View: 0, DB: 0) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:27:19) [POST]
  Parameters: {"month"=>"3", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;35;1mOption Columns (68.8ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (6.5ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
Completed in 432ms (View: 0, DB: 75) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (15.6ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:27:22) [POST]
  Parameters: {"month"=>"1", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (31.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (15.7ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
Completed in 354ms (View: 0, DB: 78) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 15:29:46) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 10804ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:29:57) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (6.5ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 454ms (View: 122, DB: 38) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 15:29:58) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;36;1mOption Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1529: login#cookies_test New session
Info 03-02-22 1529: login#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (0.0ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (0.0ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (0.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 15:29:58' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (0.0ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (0.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 401ms (DB: 0) | 302 Found [http://localhost/login/cookies_test]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 15:29:59) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 53ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 15:29:59) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1529: login#cookies_test New session
Info 03-02-22 1529: login#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (15.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (0.0ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (0.0ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (0.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 15:29:59' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (0.0ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (0.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 232ms (DB: 31) | 302 Found [http://localhost/login/cookies_test]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 15:29:59) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 31ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 15:30:00) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;36;1mOption Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1530: login#cookies_test New session
Info 03-02-22 1530: login#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (15.6ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (0.0ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (0.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 15:30:00' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (0.0ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (0.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 323ms (DB: 47) | 302 Found [http://localhost/login/cookies_test]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 15:30:01) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 38ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 15:30:01) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;36;1mOption Columns (21.7ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1530: login#cookies_test New session
Info 03-02-22 1530: login#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (0.0ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (0.0ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (0.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 15:30:01' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (0.0ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (0.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 269ms (DB: 37) | 302 Found [http://localhost/login/cookies_test]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 15:30:02) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (200.4ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 223ms (DB: 200) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 15:30:02) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;36;1mOption Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1530: login#cookies_test New session
Info 03-02-22 1530: login#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (0.0ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (0.0ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (0.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 15:30:02' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (0.0ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (0.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 279ms (DB: 16) | 302 Found [http://localhost/login/cookies_test]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 15:30:02) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 38ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 15:30:03) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1530: login#cookies_test New session
Info 03-02-22 1530: login#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (0.0ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (0.0ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (0.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 15:30:03' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (0.0ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (185.2ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (69.2ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (0.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 549ms (DB: 286) | 302 Found [http://localhost/login/cookies_test]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 15:30:03) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 35ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 15:30:03) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1530: login#cookies_test New session
Info 03-02-22 1530: login#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (15.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (0.0ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (0.0ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (0.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 15:30:04' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (0.0ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (0.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 301ms (DB: 62) | 302 Found [http://localhost/login/cookies_test]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 15:30:04) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (15.7ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 38ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 15:30:04) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;35;1mOption Load (15.7ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;36;1mOption Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1530: login#cookies_test New session
Info 03-02-22 1530: login#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (0.0ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (0.0ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (0.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 15:30:04' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (0.0ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (0.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 285ms (DB: 16) | 302 Found [http://localhost/login/cookies_test]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 15:30:04) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 31ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:30:07) [POST]
  Parameters: {"month"=>"2", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (6.5ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (15.6ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
Completed in 370ms (View: 0, DB: 38) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:32:02) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (6.5ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 439ms (View: 216, DB: 38) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:32:07) [POST]
  Parameters: {"month"=>"9", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (22.1ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSpace Load (6.5ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
Completed in 370ms (View: 0, DB: 75) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:34:14) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (31.2ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 385ms (View: 38, DB: 78) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:34:20) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mGroup Columns (6.5ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 323ms (View: 31, DB: 69) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:34:22) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.7ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (15.6ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 385ms (View: 53, DB: 47) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:34:28) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (15.6ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 448ms (View: 131, DB: 47) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:34:42) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 323ms (View: 38, DB: 47) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:34:48) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 448ms (View: 169, DB: 47) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:38:12) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (207.1ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 655ms (View: 85, DB: 270) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:38:16) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (84.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (115.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 670ms (View: 38, DB: 216) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 15:38:32) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.7ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (22.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (116.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (15.6ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 632ms (View: 138, DB: 201) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#getMonthlyData (for 127.0.0.1 at 2022-02-03 15:38:49) [POST]
  Parameters: {"month"=>"2", "action"=>"getMonthlyData", "controller"=>"reservation"}
Debug: reservation#getMonthlyData option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#getMonthlyData option: OS is Windows_NT
Debug: reservation#getMonthlyData is_remote?: false
  [4;36;1mOption Columns (663.1ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#getMonthlyData cookies_required:
Debug: reservation#getMonthlyData set_locale:
Debug: reservation#getMonthlyData set_locale: locale is en
Debug: reservation#getMonthlyData startup:
Debug: reservation#getMonthlyData display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#getMonthlyData display_control: browser is ffox
Debug: reservation#getMonthlyData set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#getMonthlyData login_from_cookie:
Debug: reservation#getMonthlyData login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (15.7ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (15.5ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (31.3ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
Completed in 1002ms (View: 0, DB: 726) | 200 OK [http://localhost/reservation/getMonthlyData]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 15:39:00) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (56.9ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 98ms (DB: 57) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 15:39:01) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (316.4ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1539: login#cookies_test New session
Info 03-02-22 1539: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (31.2ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 15:39:01' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (53.4ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 686ms (DB: 401) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 15:39:01) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 47ms (DB: 0) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 15:39:02) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (15.7ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1539: login#cookies_test New session
Info 03-02-22 1539: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (15.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (62.7ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 15:39:02' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (422.3ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (15.6ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 770ms (DB: 532) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 15:39:02) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (15.7ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (68.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 116ms (DB: 84) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 15:39:03) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (516.9ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1539: login#cookies_test New session
Info 03-02-22 1539: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (62.5ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 15:39:04' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 918ms (DB: 595) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 15:39:04) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 116ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 15:39:04) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (231.7ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1539: login#cookies_test New session
Info 03-02-22 1539: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 15:39:05' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (31.3ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 570ms (DB: 294) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 15:39:05) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (31.2ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 116ms (DB: 31) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 15:39:05) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (53.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1539: login#cookies_test New session
Info 03-02-22 1539: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 15:39:05' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (99.9ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 432ms (DB: 184) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 15:39:06) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 107ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 15:39:06) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1539: login#cookies_test New session
Info 03-02-22 1539: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (6.5ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 15:39:06' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (6.5ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 401ms (DB: 29) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 15:39:06) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (6.5ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 38ms (DB: 7) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 15:39:07) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1539: login#cookies_test New session
Info 03-02-22 1539: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 15:39:07' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 232ms (DB: 16) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 15:39:07) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 78ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 15:39:07) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1539: login#cookies_test New session
Info 03-02-22 1539: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 15:39:07' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 254ms (DB: 31) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 15:39:08) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 47ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 16:10:56) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (15.6ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 439ms (View: 185, DB: 62) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#express (for 127.0.0.1 at 2022-02-03 16:11:22) [GET]
  Parameters: {"start_date"=>"13", "action"=>"express", "space"=>"17", "controller"=>"reservation"}
Debug: reservation#express option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#express option: OS is Windows_NT
Debug: reservation#express is_remote?: false
  [4;36;1mOption Columns (15.7ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#express cookies_required:
Debug: reservation#express set_locale:
Debug: reservation#express set_locale: locale is en
Debug: reservation#express startup:
Debug: reservation#express startup: setting express
Debug: reservation#express startup:true
Debug: reservation#express display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#express display_control: browser is ffox
Debug: reservation#express set_current_user:
  [4;35;1mUser Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#express login_from_cookie:
Debug: reservation#express login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (CONFIRM = 0 and updated_at < '2022-02-03 15:41:23' and archived = 0) [0m
  [4;36;1mReservation Columns (6.5ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
  [4;36;1mSpace Load (31.3ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1 AND unavailable = 0 AND id NOT IN (SELECT space_id FROM reservations WHERE archived = 0 AND enddate > '2022-02-03' AND startdate < '2022-02-04' )) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mSitetype Columns (162.8ms)[0m   [0;1mSHOW FIELDS FROM `sitetypes`[0m
  [4;35;1mSitetype Load (0.0ms)[0m   [0mSELECT * FROM `sitetypes` WHERE (`sitetypes`.`id` IN (1,2,3)) [0m
  [4;36;1mPrice Columns (100.2ms)[0m   [0;1mSHOW FIELDS FROM `prices`[0m
  [4;35;1mPrice Load (0.0ms)[0m   [0mSELECT * FROM `prices` WHERE (`prices`.`id` IN (1,2,3,4,5)) [0m
Rendering template within layouts/application
Rendering reservation/express
Rendered shared/_seasonal (84.9ms)
Rendered shared/_dates (200.8ms)
  [4;36;1mSitetype Load (15.8ms)[0m   [0;1mSELECT * FROM `sitetypes` WHERE (active = 1) ORDER BY position[0m
Rendered shared/_sitetype (31.4ms)
Rendered shared/_count (0.0ms)
Rendered reservation/_space_pulldown (6.5ms)
  [4;35;1mDiscount Columns (53.2ms)[0m   [0mSHOW FIELDS FROM `discounts`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `discounts` WHERE (active = 1) [0m
  [4;35;1mDiscount Load (0.0ms)[0m   [0mSELECT * FROM `discounts` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 1203ms (View: 448, DB: 401) | 200 OK [http://localhost/reservation/express?start_date=13&space=17]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#calendar_update (for 127.0.0.1 at 2022-02-03 16:11:25) [POST]
  Parameters: {"action"=>"calendar_update", "date"=>"13 February 2022", "controller"=>"reservation"}
Debug: reservation#calendar_update option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#calendar_update option: OS is Windows_NT
Debug: reservation#calendar_update is_remote?: false
  [4;35;1mOption Columns (22.9ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#calendar_update cookies_required:
Debug: reservation#calendar_update set_locale:
Debug: reservation#calendar_update set_locale: locale is en
Debug: reservation#calendar_update display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#calendar_update display_control: browser is ffox
Debug: reservation#calendar_update set_current_user:
  [4;36;1mUser Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#calendar_update login_from_cookie:
Debug: reservation#calendar_update login_from_cookie: use_login is true, local
Debug: reservation#calendar_update calendar_update:
Debug: reservation#calendar_update calendar_update: have date in params
month_names = [nil, "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]
p_str = ["13", "February", "2022"]
m_index = 2 for February
month is now Feb
Debug: reservation#calendar_update startdate is 2022-02-13
Debug: reservation#calendar_update calendar_update: startdate 2022-02-13
Debug: reservation#calendar_update calendar_update: enddate 2022-02-14
  [4;36;1mReservation Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
Debug: reservation#calendar_update calendar_update: start = 2022-02-13, end = 2022-02-14
  [4;35;1mSpace Load (2.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1 AND id NOT IN (SELECT space_id FROM reservations WHERE archived = 0 AND enddate > '2022-02-13' AND startdate < '2022-02-14' )) ORDER BY position[0m
  [4;36;1mSpace Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mSitetype Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `sitetypes`[0m
  [4;36;1mSitetype Load (0.0ms)[0m   [0;1mSELECT * FROM `sitetypes` WHERE (`sitetypes`.`id` IN (1,2,3)) [0m
  [4;35;1mPrice Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `prices`[0m
  [4;36;1mPrice Load (0.0ms)[0m   [0;1mSELECT * FROM `prices` WHERE (`prices`.`id` IN (1,2,3,4,5)) [0m
Debug: reservation#calendar_update update_display_dates: 98 spaces available
Rendered shared/_count (0.0ms)
Rendered reservation/_space_pulldown (3.0ms)
Rendered shared/_seasonal (0.0ms)
Rendered shared/_dates (16.0ms)
Completed in 546ms (View: 33, DB: 64) | 200 OK [http://localhost/reservation/calendar_update?date=13%20February%202022]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 16:13:18) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 486ms (View: 185, DB: 31) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 16:14:13) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (46.9ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 470ms (View: 200, DB: 62) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 16:16:56) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 479ms (View: 178, DB: 31) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 16:19:45) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 523ms (View: 254, DB: 31) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 16:21:52) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 516ms (View: 178, DB: 16) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 16:22:32) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 517ms (View: 163, DB: 31) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 16:23:14) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (4.2ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 655ms (View: 285, DB: 51) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (4.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 17:15:28) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (39.2ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (31.9ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (17.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (22.7ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (8.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (17.1ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (26.1ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 1232ms (View: 309, DB: 211) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 17:21:09) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (11.9ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (19.5ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (1.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (2.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 567ms (View: 264, DB: 62) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 17:21:56) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (13.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (27.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (1.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 688ms (View: 261, DB: 81) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 17:23:39) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (12.8ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (1.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (1.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 511ms (View: 182, DB: 45) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 17:23:52) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 64ms (DB: 17) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 17:23:53) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (19.9ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1723: login#cookies_test New session
Info 03-02-22 1723: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (14.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (31.7ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (1.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (33.9ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (39.3ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (22.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 17:23:53' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (12.6ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (25.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (5.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (3.7ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (1.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 618ms (DB: 212) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 17:23:53) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 53ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 17:23:54) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (2.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1723: login#cookies_test New session
Info 03-02-22 1723: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (1.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 17:23:54' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (1.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (1.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (1.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 604ms (DB: 37) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 17:23:55) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 45ms (DB: 12) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 17:23:55) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1723: login#cookies_test New session
Info 03-02-22 1723: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (2.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (1.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (1.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 17:23:55' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 511ms (DB: 33) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 17:23:56) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (14.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 53ms (DB: 15) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 17:23:56) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1723: login#cookies_test New session
Info 03-02-22 1723: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (1.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (1.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 17:23:56' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (1.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (1.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 247ms (DB: 27) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 17:23:57) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (11.9ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 43ms (DB: 13) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 17:23:57) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1723: login#cookies_test New session
Info 03-02-22 1723: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (1.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (1.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 17:23:57' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (1.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 242ms (DB: 31) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 17:23:57) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (10.9ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 43ms (DB: 13) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 17:23:57) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1723: login#cookies_test New session
Info 03-02-22 1723: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (1.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (1.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 17:23:57' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (1.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 266ms (DB: 33) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 17:23:58) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 44ms (DB: 11) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 17:23:58) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (13.2ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1723: login#cookies_test New session
Info 03-02-22 1723: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (1.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (1.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 17:23:58' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (1.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (37.9ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (31.9ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (1.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 331ms (DB: 95) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 17:23:58) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 99ms (DB: 12) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 17:23:59) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (10.1ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1723: login#cookies_test New session
Info 03-02-22 1723: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (1.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (1.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 17:23:59' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (1.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (1.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (1.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 247ms (DB: 30) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 17:23:59) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 97ms (DB: 12) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 17:24:20) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (24.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (1.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 539ms (View: 253, DB: 55) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 17:25:04) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (67.7ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 605ms (View: 185, DB: 101) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 17:26:00) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (14.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (13.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (1.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 594ms (View: 258, DB: 51) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (15.6ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 17:47:08) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (31.3ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (46.9ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (6.5ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 608ms (View: 279, DB: 116) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 17:47:28) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (46.9ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (6.5ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (15.6ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (15.6ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 486ms (View: 138, DB: 100) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 17:48:19) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (115.7ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (37.6ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (1.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (54.3ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 701ms (View: 245, DB: 224) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 17:49:10) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 554ms (View: 201, DB: 47) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 17:51:21) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 448ms (View: 153, DB: 16) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 17:53:18) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (15.6ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 454ms (View: 200, DB: 47) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 17:55:09) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Redirected to http://localhost:3000/reservation/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 56ms (DB: 13) | 302 Found [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#cookies_test (for 127.0.0.1 at 2022-02-03 17:55:09) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"reservation"}
Debug: reservation#cookies_test option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#cookies_test option: OS is Windows_NT
Debug: reservation#cookies_test is_remote?: false
  [4;36;1mOption Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#cookies_test set_locale:
Debug: reservation#cookies_test set_locale: locale is en
Debug: reservation#cookies_test startup:
Info 03-02-22 1755: reservation#cookies_test New session
Info 03-02-22 1755: reservation#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: reservation#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (1.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: reservation#cookies_test startup: update maps
Debug: reservation#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (0.0ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: reservation#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: reservation#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (0.0ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: reservation#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (0.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 17:55:09' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: reservation#cookies_test startup:0 found
Debug: reservation#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (9.8ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (79.5ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: reservation#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (0.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: reservation#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36
Debug: reservation#cookies_test display_control: browser is chrome
Debug: reservation#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 397ms (DB: 114) | 302 Found [http://localhost/reservation/cookies_test]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 17:55:10) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (43.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Debug: login#login set_locale:
Debug: login#login set_locale: locale is en
Debug: login#login startup:
Debug: login#login display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36
Debug: login#login display_control: browser is chrome
Debug: login#login login_from_cookie:
Debug: login#login login_from_cookie: use_login is true, local
Debug: login#login in login#login
Rendering template within layouts/login
Rendering login/login
Completed in 321ms (View: 157, DB: 43) | 200 OK [http://localhost/login/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 17:55:22) [POST]
  Parameters: {"name"=>"manager", "commit"=>"Login", "action"=>"login", "controller"=>"login", "password"=>"[FILTERED]"}
Debug: login#login option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (12.7ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Debug: login#login set_locale:
Debug: login#login set_locale: locale is en
Debug: login#login startup:
Debug: login#login display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36
Debug: login#login display_control: browser is chrome
Debug: login#login login_from_cookie:
Debug: login#login login_from_cookie: use_login is true, local
Debug: login#login in login#login
  [4;35;1mUser Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (51.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'manager') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 235ms (DB: 68) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#list (for 127.0.0.1 at 2022-02-03 17:55:22) [GET]
  Parameters: {"action"=>"list", "controller"=>"reservation"}
Debug: reservation#list option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#list option: OS is Windows_NT
Debug: reservation#list is_remote?: false
  [4;36;1mOption Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#list cookies_required:
Debug: reservation#list set_locale:
Debug: reservation#list set_locale: locale is en
Debug: reservation#list startup:
Debug: reservation#list display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36
Debug: reservation#list display_control: browser is chrome
Debug: reservation#list set_current_user:
  [4;35;1mUser Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#list login_from_cookie:
Debug: reservation#list login_from_cookie: use_login is true, local
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` ORDER BY position LIMIT 1[0m
  [4;36;1mReservation Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mSpace Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mRigtype Columns (35.1ms)[0m   [0mSHOW FIELDS FROM `rigtypes`[0m
  [4;36;1mReservation Load Including Associations (55.1ms)[0m   [0;1mSELECT `reservations`.`id` AS t0_r0, `reservations`.`camper_id` AS t0_r1, `reservations`.`rigtype_id` AS t0_r2, `reservations`.`space_id` AS t0_r3, `reservations`.`discount_id` AS t0_r4, `reservations`.`group_id` AS t0_r5, `reservations`.`startdate` AS t0_r6, `reservations`.`enddate` AS t0_r7, `reservations`.`deposit` AS t0_r8, `reservations`.`override_total` AS t0_r9, `reservations`.`special_request` AS t0_r10, `reservations`.`slides` AS t0_r11, `reservations`.`length` AS t0_r12, `reservations`.`rig_age` AS t0_r13, `reservations`.`vehicle_license` AS t0_r14, `reservations`.`vehicle_state` AS t0_r15, `reservations`.`checked_in` AS t0_r16, `reservations`.`adults` AS t0_r17, `reservations`.`pets` AS t0_r18, `reservations`.`kids` AS t0_r19, `reservations`.`lock_version` AS t0_r20, `reservations`.`total` AS t0_r21, `reservations`.`confirm` AS t0_r22, `reservations`.`created_at` AS t0_r23, `reservations`.`ext_charges` AS t0_r24, `reservations`.`tax_str` AS t0_r25, `reservations`.`tax_amount` AS t0_r26, `reservations`.`unconfirmed_remote` AS t0_r27, `reservations`.`log` AS t0_r28, `reservations`.`vehicle_license_2` AS t0_r29, `reservations`.`vehicle_state_2` AS t0_r30, `reservations`.`recommender_id` AS t0_r31, `reservations`.`seasonal_rate` AS t0_r32, `reservations`.`seasonal_charges` AS t0_r33, `reservations`.`seasonal` AS t0_r34, `reservations`.`gateway_transaction` AS t0_r35, `reservations`.`onetime_discount` AS t0_r36, `reservations`.`archived` AS t0_r37, `reservations`.`updated_on` AS t0_r38, `reservations`.`storage` AS t0_r39, `reservations`.`updated_at` AS t0_r40, `reservations`.`sitetype_id` AS t0_r41, `reservations`.`next` AS t0_r42, `reservations`.`prev` AS t0_r43, `reservations`.`cancelled` AS t0_r44, `reservations`.`checked_out` AS t0_r45, `campers`.`id` AS t1_r0, `campers`.`last_name` AS t1_r1, `campers`.`first_name` AS t1_r2, `campers`.`address` AS t1_r3, `campers`.`city` AS t1_r4, `campers`.`state` AS t1_r5, `campers`.`mail_code` AS t1_r6, `campers`.`activity` AS t1_r7, `campers`.`lock_version` AS t1_r8, `campers`.`phone` AS t1_r9, `campers`.`email` AS t1_r10, `campers`.`idnumber` AS t1_r11, `campers`.`country_id` AS t1_r12, `campers`.`phone_2` AS t1_r13, `campers`.`address2` AS t1_r14, `campers`.`notes` AS t1_r15, `campers`.`addl` AS t1_r16, `spaces`.`id` AS t2_r0, `spaces`.`name` AS t2_r1, `spaces`.`power_15a` AS t2_r2, `spaces`.`power_30a` AS t2_r3, `spaces`.`power_50a` AS t2_r4, `spaces`.`water` AS t2_r5, `spaces`.`sewer` AS t2_r6, `spaces`.`length` AS t2_r7, `spaces`.`width` AS t2_r8, `spaces`.`sitetype_id` AS t2_r9, `spaces`.`price_id` AS t2_r10, `spaces`.`special_condition` AS t2_r11, `spaces`.`unavailable` AS t2_r12, `spaces`.`position` AS t2_r13, `spaces`.`remote_reservable` AS t2_r14, `spaces`.`current` AS t2_r15, `spaces`.`active` AS t2_r16, `rigtypes`.`id` AS t3_r0, `rigtypes`.`name` AS t3_r1, `rigtypes`.`position` AS t3_r2, `rigtypes`.`active` AS t3_r3 FROM `reservations` LEFT OUTER JOIN `campers` ON `campers`.id = `reservations`.camper_id LEFT OUTER JOIN `spaces` ON `spaces`.id = `reservations`.space_id LEFT OUTER JOIN `rigtypes` ON `rigtypes`.id = `reservations`.rigtype_id WHERE (checked_in = 0 and confirm = 1 and archived = 0) ORDER BY unconfirmed_remote desc, startdate, group_id, spaces.position asc[0m
Rendering template within layouts/application
Rendering reservation/list
Rendered shared/_list (59.9ms)
Rendered shared/_list (5.0ms)
Rendered shared/_list (5.0ms)
Rendered shared/_list (4.0ms)
Rendered shared/_list (4.0ms)
Rendered shared/_list (5.0ms)
Rendered shared/_list (6.0ms)
  [4;35;1mGroup Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = 1) ORDER BY name asc[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` = 2) ORDER BY last_name, first_name asc[0m
Rendered shared/_list (23.9ms)
Rendered shared/_list (58.8ms)
Rendered shared/_list (4.0ms)
Rendered shared/_list (5.0ms)
Rendered shared/_list (29.1ms)
Rendered shared/_reservations (291.3ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 719ms (View: 313, DB: 128) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 17:55:29) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36
Debug: reservation#available display_control: browser is chrome
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (8.9ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (1.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (1.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 473ms (View: 149, DB: 48) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 17:58:04) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (70.8ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36
Debug: reservation#available display_control: browser is chrome
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (1.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (1.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 570ms (View: 203, DB: 100) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 17:59:20) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (49.4ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (11.1ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36
Debug: reservation#available display_control: browser is chrome
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (4.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (1.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (2.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 600ms (View: 287, DB: 96) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 17:59:33) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (11.9ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36
Debug: reservation#available display_control: browser is chrome
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (1.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 531ms (View: 266, DB: 45) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:00:37) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (87.3ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36
Debug: reservation#available display_control: browser is chrome
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (58.8ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (42.9ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (1.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 756ms (View: 221, DB: 216) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:01:27) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (47.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36
Debug: reservation#available display_control: browser is chrome
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (626.6ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (37.5ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (1.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (1.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (168.5ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (3.7ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 1411ms (View: 222, DB: 905) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:02:55) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36
Debug: reservation#available display_control: browser is chrome
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (32.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (29.9ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (1.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (1.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 690ms (View: 257, DB: 108) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:03:34) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (11.2ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36
Debug: reservation#available display_control: browser is chrome
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (69.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (1.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 583ms (View: 266, DB: 111) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:04:37) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (1.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (1.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (4.3ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (3.9ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 472ms (View: 161, DB: 43) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:04:42) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (11.4ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36
Debug: reservation#available display_control: browser is chrome
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (4.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (4.9ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (1.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (1.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 483ms (View: 168, DB: 41) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:06:34) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (13.1ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (4.5ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (3.7ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (1.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (1.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 486ms (View: 202, DB: 42) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:08:26) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (15.7ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (6.5ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 470ms (View: 116, DB: 69) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:13:08) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (13.2ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (4.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (37.1ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (1.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (7.3ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 587ms (View: 190, DB: 89) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:17:19) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (13.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (2.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 509ms (View: 209, DB: 45) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:18:21) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (17.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (9.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (1.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (1.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 520ms (View: 139, DB: 54) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:18:50) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (12.9ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (37.9ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (1.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (3.7ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 515ms (View: 192, DB: 87) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:25:20) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (1.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 480ms (View: 128, DB: 43) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:25:31) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (12.3ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (3.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (1.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (1.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 493ms (View: 142, DB: 46) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:26:18) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (24.7ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (1.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (1.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 467ms (View: 180, DB: 58) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:27:58) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (1.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 482ms (View: 133, DB: 52) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:39:30) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (2.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (6.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (1.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 487ms (View: 140, DB: 55) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 18:40:46) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 45ms (DB: 11) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 18:40:46) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1840: login#cookies_test New session
Info 03-02-22 1840: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (1.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (1.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (1.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (1.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 18:40:46' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (47.4ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (1.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (1.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 325ms (DB: 76) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 18:40:46) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 47ms (DB: 13) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 18:40:47) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1840: login#cookies_test New session
Info 03-02-22 1840: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (1.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 18:40:47' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (1.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (20.2ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (1.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 295ms (DB: 46) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 18:40:47) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 55ms (DB: 12) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 18:40:47) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (13.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1840: login#cookies_test New session
Info 03-02-22 1840: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (1.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (1.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 18:40:48' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (1.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (5.5ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (1.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 291ms (DB: 36) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 18:40:48) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (36.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 150ms (DB: 38) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 18:40:48) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (13.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1840: login#cookies_test New session
Info 03-02-22 1840: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 18:40:48' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (1.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (1.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (1.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 286ms (DB: 31) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 18:40:49) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 118ms (DB: 13) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 18:40:49) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (22.9ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1840: login#cookies_test New session
Info 03-02-22 1840: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (1.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (1.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 18:40:49' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (1.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 285ms (DB: 42) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 18:40:49) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (35.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 151ms (DB: 36) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 18:40:50) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (14.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1840: login#cookies_test New session
Info 03-02-22 1840: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (1.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (1.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (1.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 18:40:50' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (17.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 284ms (DB: 44) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 18:40:50) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (13.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 62ms (DB: 15) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 18:40:51) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1840: login#cookies_test New session
Info 03-02-22 1840: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (15.6ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 18:40:51' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 363ms (DB: 32) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 18:40:51) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 38ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 18:40:51) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1840: login#cookies_test New session
Info 03-02-22 1840: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 18:40:52' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 348ms (DB: 47) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 18:40:52) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 31ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:42:38) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 435ms (View: 169, DB: 26) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:43:43) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (22.1ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 417ms (View: 100, DB: 69) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:45:47) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 479ms (View: 163, DB: 16) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:46:26) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 432ms (View: 185, DB: 16) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:46:46) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.7ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 423ms (View: 107, DB: 47) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:48:16) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 448ms (View: 120, DB: 38) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 18:48:26) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (100.3ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 147ms (DB: 100) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 18:48:27) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (15.6ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1848: login#cookies_test New session
Info 03-02-22 1848: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 18:48:27' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 263ms (DB: 31) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 18:48:27) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (31.3ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 62ms (DB: 31) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 18:48:27) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (46.9ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1848: login#cookies_test New session
Info 03-02-22 1848: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (22.1ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 18:48:28' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 332ms (DB: 69) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 18:48:28) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 47ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 18:48:28) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1848: login#cookies_test New session
Info 03-02-22 1848: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 18:48:28' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 223ms (DB: 0) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 18:48:28) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 53ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 18:48:29) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1848: login#cookies_test New session
Info 03-02-22 1848: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 18:48:29' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (31.4ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 285ms (DB: 63) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 18:48:29) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 53ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 18:48:29) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (15.7ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1848: login#cookies_test New session
Info 03-02-22 1848: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 18:48:29' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (6.5ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 216ms (DB: 38) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 18:48:30) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (15.7ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 31ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 18:48:30) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1848: login#cookies_test New session
Info 03-02-22 1848: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (15.6ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 18:48:30' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 242ms (DB: 31) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 18:48:30) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 100ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 18:48:30) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1848: login#cookies_test New session
Info 03-02-22 1848: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (15.6ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 18:48:31' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (6.5ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (15.6ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 301ms (DB: 53) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 18:48:31) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (17.1ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 100ms (DB: 17) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 18:48:31) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 1848: login#cookies_test New session
Info 03-02-22 1848: login#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (0.0ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (0.0ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (0.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 18:48:31' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (0.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (15.7ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 232ms (DB: 31) | 302 Found [http://localhost/login/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 18:48:31) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;35;1mOption Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 85ms (DB: 0) | 302 Found [http://localhost/login/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:49:24) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (22.1ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 470ms (View: 185, DB: 53) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 18:51:33) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (15.6ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 463ms (View: 131, DB: 63) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (15.6ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 21:32:07) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (15.5ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 470ms (View: 122, DB: 62) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 21:32:33) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 53ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 21:32:33) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 2132: login#cookies_test New session
Info 03-02-22 2132: login#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (0.0ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (0.0ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (0.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 21:32:34' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (0.0ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (0.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 332ms (DB: 47) | 302 Found [http://localhost/login/cookies_test]
  [4;35;1mSQL (15.6ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 21:32:34) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (22.2ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 38ms (DB: 38) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 21:32:34) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;36;1mOption Columns (15.7ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 2132: login#cookies_test New session
Info 03-02-22 2132: login#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (0.0ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (15.6ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (0.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 21:32:34' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (0.0ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (0.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 285ms (DB: 47) | 302 Found [http://localhost/login/cookies_test]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 21:32:34) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 38ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 21:32:35) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 2132: login#cookies_test New session
Info 03-02-22 2132: login#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (0.0ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (15.6ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (0.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 21:32:35' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (0.0ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (0.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 300ms (DB: 31) | 302 Found [http://localhost/login/cookies_test]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 21:32:35) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 47ms (DB: 0) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 21:32:35) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 2132: login#cookies_test New session
Info 03-02-22 2132: login#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (31.1ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (0.0ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (0.0ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (0.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 21:32:35' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (15.6ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (0.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 285ms (DB: 62) | 302 Found [http://localhost/login/cookies_test]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 21:32:36) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 53ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 21:32:36) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;35;1mOption Load (15.6ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;36;1mOption Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 2132: login#cookies_test New session
Info 03-02-22 2132: login#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (22.1ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (0.0ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (0.0ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (0.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 21:32:36' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (0.0ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (6.5ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (0.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 270ms (DB: 44) | 302 Found [http://localhost/login/cookies_test]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 21:32:36) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (15.7ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 38ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 21:32:36) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 2132: login#cookies_test New session
Info 03-02-22 2132: login#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (0.0ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (0.0ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (0.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 21:32:37' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (0.0ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (0.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 232ms (DB: 31) | 302 Found [http://localhost/login/cookies_test]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 21:32:37) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 38ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 21:32:37) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;36;1mOption Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 2132: login#cookies_test New session
Info 03-02-22 2132: login#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (47.0ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (0.0ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (0.0ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (0.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 21:32:37' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (0.0ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (0.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 263ms (DB: 47) | 302 Found [http://localhost/login/cookies_test]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 21:32:37) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 31ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-03 21:32:37) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 03-02-22 2132: login#cookies_test New session
Info 03-02-22 2132: login#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (0.0ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-02') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-03') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (0.0ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (0.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-02 21:32:38' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (0.0ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (0.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-03' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 238ms (DB: 31) | 302 Found [http://localhost/login/cookies_test]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-03 21:32:38) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 53ms (DB: 0) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 21:33:18) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (26.9ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (1.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (1.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (22.9ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (17.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 667ms (View: 236, DB: 108) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 21:36:40) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (31.2ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (6.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 717ms (View: 138, DB: 53) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 21:37:47) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (15.6ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 563ms (View: 188, DB: 31) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 21:37:52) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (15.6ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 470ms (View: 116, DB: 31) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 22:19:26) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (6.5ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (0.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (15.6ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;36;1mSpace Load (0.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (15.6ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 486ms (View: 85, DB: 69) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-03 22:33:24) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.7ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-03' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,3,10,4,5)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 15 AND space_id = 34 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 24 AND space_id = 63 AND enddate > '2022-01-28' AND startdate < '2022-02-04') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-17
Debug: reservation#available date is 2022-02-03, next day to output is 2022-03-01 header count is 26
  [4;35;1mSpace Load (0.0ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (15.6ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 439ms (View: 185, DB: 31) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (59.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mOption Load (500.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mIntegration Load (35.2ms)[0m   [0mSELECT * FROM `integrations` LIMIT 1[0m
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mOption Columns (170.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
  [4;36;1mOption Load (1.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#list (for 127.0.0.1 at 2022-02-05 04:57:47) [GET]
  Parameters: {"action"=>"list", "controller"=>"reservation"}
Debug: reservation#list option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#list option: OS is Windows_NT
Debug: reservation#list is_remote?: false
Debug: reservation#list cookies_required:
Debug: reservation#list set_locale:
Debug: reservation#list set_locale: locale is en
Debug: reservation#list startup:
Debug: reservation#list display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#list display_control: browser is ffox
Debug: reservation#list set_current_user:
  [4;35;1mUser Columns (99.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#list login_from_cookie:
Debug: reservation#list login_from_cookie: use_login is true, local
  [4;35;1mSpace Load (150.0ms)[0m   [0mSELECT * FROM `spaces` ORDER BY position LIMIT 1[0m
  [4;36;1mReservation Columns (40.5ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (99.9ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mSpace Columns (15.1ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mRigtype Columns (45.0ms)[0m   [0mSHOW FIELDS FROM `rigtypes`[0m
  [4;36;1mReservation Load Including Associations (170.9ms)[0m   [0;1mSELECT `reservations`.`id` AS t0_r0, `reservations`.`camper_id` AS t0_r1, `reservations`.`rigtype_id` AS t0_r2, `reservations`.`space_id` AS t0_r3, `reservations`.`discount_id` AS t0_r4, `reservations`.`group_id` AS t0_r5, `reservations`.`startdate` AS t0_r6, `reservations`.`enddate` AS t0_r7, `reservations`.`deposit` AS t0_r8, `reservations`.`override_total` AS t0_r9, `reservations`.`special_request` AS t0_r10, `reservations`.`slides` AS t0_r11, `reservations`.`length` AS t0_r12, `reservations`.`rig_age` AS t0_r13, `reservations`.`vehicle_license` AS t0_r14, `reservations`.`vehicle_state` AS t0_r15, `reservations`.`checked_in` AS t0_r16, `reservations`.`adults` AS t0_r17, `reservations`.`pets` AS t0_r18, `reservations`.`kids` AS t0_r19, `reservations`.`lock_version` AS t0_r20, `reservations`.`total` AS t0_r21, `reservations`.`confirm` AS t0_r22, `reservations`.`created_at` AS t0_r23, `reservations`.`ext_charges` AS t0_r24, `reservations`.`tax_str` AS t0_r25, `reservations`.`tax_amount` AS t0_r26, `reservations`.`unconfirmed_remote` AS t0_r27, `reservations`.`log` AS t0_r28, `reservations`.`vehicle_license_2` AS t0_r29, `reservations`.`vehicle_state_2` AS t0_r30, `reservations`.`recommender_id` AS t0_r31, `reservations`.`seasonal_rate` AS t0_r32, `reservations`.`seasonal_charges` AS t0_r33, `reservations`.`seasonal` AS t0_r34, `reservations`.`gateway_transaction` AS t0_r35, `reservations`.`onetime_discount` AS t0_r36, `reservations`.`archived` AS t0_r37, `reservations`.`updated_on` AS t0_r38, `reservations`.`storage` AS t0_r39, `reservations`.`updated_at` AS t0_r40, `reservations`.`sitetype_id` AS t0_r41, `reservations`.`next` AS t0_r42, `reservations`.`prev` AS t0_r43, `reservations`.`cancelled` AS t0_r44, `reservations`.`checked_out` AS t0_r45, `campers`.`id` AS t1_r0, `campers`.`last_name` AS t1_r1, `campers`.`first_name` AS t1_r2, `campers`.`address` AS t1_r3, `campers`.`city` AS t1_r4, `campers`.`state` AS t1_r5, `campers`.`mail_code` AS t1_r6, `campers`.`activity` AS t1_r7, `campers`.`lock_version` AS t1_r8, `campers`.`phone` AS t1_r9, `campers`.`email` AS t1_r10, `campers`.`idnumber` AS t1_r11, `campers`.`country_id` AS t1_r12, `campers`.`phone_2` AS t1_r13, `campers`.`address2` AS t1_r14, `campers`.`notes` AS t1_r15, `campers`.`addl` AS t1_r16, `spaces`.`id` AS t2_r0, `spaces`.`name` AS t2_r1, `spaces`.`power_15a` AS t2_r2, `spaces`.`power_30a` AS t2_r3, `spaces`.`power_50a` AS t2_r4, `spaces`.`water` AS t2_r5, `spaces`.`sewer` AS t2_r6, `spaces`.`length` AS t2_r7, `spaces`.`width` AS t2_r8, `spaces`.`sitetype_id` AS t2_r9, `spaces`.`price_id` AS t2_r10, `spaces`.`special_condition` AS t2_r11, `spaces`.`unavailable` AS t2_r12, `spaces`.`position` AS t2_r13, `spaces`.`remote_reservable` AS t2_r14, `spaces`.`current` AS t2_r15, `spaces`.`active` AS t2_r16, `rigtypes`.`id` AS t3_r0, `rigtypes`.`name` AS t3_r1, `rigtypes`.`position` AS t3_r2, `rigtypes`.`active` AS t3_r3 FROM `reservations` LEFT OUTER JOIN `campers` ON `campers`.id = `reservations`.camper_id LEFT OUTER JOIN `spaces` ON `spaces`.id = `reservations`.space_id LEFT OUTER JOIN `rigtypes` ON `rigtypes`.id = `reservations`.rigtype_id WHERE (checked_in = 0 and confirm = 1 and archived = 0) ORDER BY unconfirmed_remote desc, startdate, group_id, spaces.position asc[0m
Rendering template within layouts/application
Rendering reservation/list
Rendered shared/_list (193.7ms)
Rendered shared/_list (65.0ms)
Rendered shared/_list (0.0ms)
Rendered shared/_list (10.1ms)
Rendered shared/_list (0.0ms)
Rendered shared/_list (9.9ms)
Rendered shared/_list (0.0ms)
  [4;35;1mGroup Columns (88.6ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (20.3ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = 1) ORDER BY name asc[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` = 2) ORDER BY last_name, first_name asc[0m
Rendered shared/_list (140.1ms)
Rendered shared/_list (10.1ms)
Rendered shared/_list (5.0ms)
Rendered shared/_list (10.1ms)
Rendered shared/_list (5.0ms)
Rendered shared/_reservations (535.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 2070ms (View: 791, DB: 730) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-05 04:57:54) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;36;1mOption Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;35;1mUser Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;35;1mReservation Load (37.3ms)[0m   [0mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-05' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;36;1mReservation Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `reservations`[0m
  [4;35;1mCamper Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `campers`[0m
  [4;36;1mCamper Load (1.0ms)[0m   [0;1mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,10,4)) [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-19
Debug: reservation#available date is 2022-02-05, next day to output is 2022-03-01 header count is 24
  [4;36;1mSpace Load (1.0ms)[0m   [0;1mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;35;1mSpace Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `spaces`[0m
  [4;36;1mGroup Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (7.0ms)[0m   [0mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 611ms (View: 193, DB: 96) | 200 OK [http://localhost/reservation/available]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#cookies_test (for 127.0.0.1 at 2022-02-05 04:58:10) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"reservation"}
Debug: reservation#cookies_test option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#cookies_test option: OS is Windows_NT
Debug: reservation#cookies_test is_remote?: false
  [4;35;1mOption Columns (30.3ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#cookies_test set_locale:
Debug: reservation#cookies_test set_locale: locale is en
Debug: reservation#cookies_test startup:
Info 05-02-22 0458: reservation#cookies_test New session
Info 05-02-22 0458: reservation#cookies_test Startup with release 1.11, version 1750
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (149.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Debug: reservation#cookies_test startup: Current database version is 87
  [4;36;1mDynamicString Columns (285.0ms)[0m   [0;1mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: reservation#cookies_test startup: update maps
Debug: reservation#cookies_test startup: cleanup old leftover space_alloc
  [4;35;1mSpaceAlloc Load (209.8ms)[0m   [0mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-04') [0m
Debug: reservation#cookies_test startup: cleanup old reservations past retention date
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-05') [0m
Debug: reservation#cookies_test startup: get rid of bogus archives
  [4;35;1mArchive Load (173.9ms)[0m   [0mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: reservation#cookies_test startup: cleanup incomplete payments
  [4;36;1mPayment Load (238.4ms)[0m   [0;1mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-04 04:58:23' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: reservation#cookies_test startup:0 found
Debug: reservation#cookies_test startup: move charges from measured_charge to charge
  [4;35;1mExtraCharge Load (180.0ms)[0m   [0mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;36;1mExtra Columns (109.9ms)[0m   [0;1mSHOW FIELDS FROM `extras`[0m
  [4;35;1mExtra Load (0.0ms)[0m   [0mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: reservation#cookies_test startup: clean up unused extra charges
  [4;36;1mExtraCharge Columns (10.1ms)[0m   [0;1mSHOW FIELDS FROM `extra_charges`[0m
  [4;35;1mExtraCharge Load Including Associations (0.0ms)[0m   [0mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-05' and extras.extra_type = 2) [0m
Debug: reservation#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#cookies_test display_control: browser is ffox
Debug: reservation#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 14338ms (DB: 1387) | 302 Found [http://localhost/reservation/cookies_test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ReservationController#available (for 127.0.0.1 at 2022-02-05 04:58:25) [GET]
  Parameters: {"action"=>"available", "controller"=>"reservation"}
Debug: reservation#available option:
  [4;36;1mOption Load (0.0ms)[0m   [0;1mSELECT * FROM `options` LIMIT 1[0m
Debug: reservation#available option: OS is Windows_NT
Debug: reservation#available is_remote?: false
  [4;35;1mOption Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `options`[0m
Debug: reservation#available cookies_required:
Debug: reservation#available set_locale:
Debug: reservation#available set_locale: locale is en
Debug: reservation#available startup:
Debug: reservation#available display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: reservation#available display_control: browser is ffox
Debug: reservation#available set_current_user:
  [4;36;1mUser Columns (3.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 113326033) [0m
Debug: reservation#available login_from_cookie:
Debug: reservation#available login_from_cookie: use_login is true, local
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE ((enddate >= '2022-02-05' or checked_in = 1) and confirm = 1 and archived = 0) ORDER BY space_id,startdate ASC[0m
  [4;35;1mReservation Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `reservations`[0m
  [4;36;1mCamper Columns (8.3ms)[0m   [0;1mSHOW FIELDS FROM `campers`[0m
  [4;35;1mCamper Load (0.0ms)[0m   [0mSELECT * FROM `campers` WHERE (`campers`.`id` IN (11,6,7,13,8,9,1,2,10,4)) [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 1 AND space_id = 7 AND enddate > '2022-01-21' AND startdate < '2022-01-26') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 3 AND space_id = 8 AND enddate > '2022-01-19' AND startdate < '2022-01-26') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 2 AND space_id = 9 AND enddate > '2022-01-20' AND startdate < '2022-01-27') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 4 AND space_id = 11 AND enddate > '2022-01-06' AND startdate < '2022-01-27') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 5 AND space_id = 12 AND enddate > '2021-12-26' AND startdate < '2022-02-07') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 20 AND space_id = 13 AND enddate > '2022-01-18' AND startdate < '2022-01-24') [0m
  [4;36;1mReservation Load (1.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 10 AND space_id = 15 AND enddate > '2022-01-26' AND startdate < '2022-02-26') [0m
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 14 AND space_id = 20 AND enddate > '2022-01-28' AND startdate < '2022-02-28') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 6 AND space_id = 36 AND enddate > '2022-01-22' AND startdate < '2022-01-29') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 16 AND space_id = 36 AND enddate > '2022-01-29' AND startdate < '2022-02-08') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 17 AND space_id = 41 AND enddate > '2022-01-30' AND startdate < '2022-02-06') [0m
  [4;35;1mReservation Load (1.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 19 AND space_id = 62 AND enddate > '2022-02-02' AND startdate < '2022-02-16') [0m
  [4;36;1mReservation Load (0.0ms)[0m   [0;1mSELECT * FROM `reservations` WHERE (archived = 0 AND id != 25 AND space_id = 91 AND enddate > '2022-02-03' AND startdate < '2022-02-07') [0m
Rendering template within layouts/application
Rendering reservation/available
Debug: reservation#available header
Debug: reservation#available get_header_months enddate is 2022-02-19
Debug: reservation#available date is 2022-02-05, next day to output is 2022-03-01 header count is 24
  [4;35;1mSpace Load (166.4ms)[0m   [0mSELECT * FROM `spaces` WHERE (active = 1) ORDER BY position[0m
  [4;36;1mSpace Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `spaces`[0m
  [4;35;1mGroup Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `groups` [0m
Completed in 692ms (View: 259, DB: 214) | 200 OK [http://localhost/reservation/available]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-05 04:58:27) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 237ms (DB: 13) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-05 04:58:27) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;36;1mOption Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 05-02-22 0458: login#cookies_test New session
Info 05-02-22 0458: login#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (0.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (1.0ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-04') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-05') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (0.0ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (1.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-04 04:58:28' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (0.0ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (1.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-05' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 637ms (DB: 40) | 302 Found [http://localhost/login/cookies_test]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-05 04:58:28) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 51ms (DB: 13) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-05 04:58:29) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;36;1mOption Columns (57.3ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 05-02-22 0458: login#cookies_test New session
Info 05-02-22 0458: login#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (74.4ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (1.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (0.0ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-04') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-05') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (0.0ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (1.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-04 04:58:29' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (0.0ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (110.7ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (1.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-05' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 809ms (DB: 253) | 302 Found [http://localhost/login/cookies_test]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-05 04:58:30) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (2.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
Filter chain halted as [:cookies_required] rendered_or_redirected.
Completed in 52ms (DB: 16) | 302 Found [http://localhost/login/login]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#cookies_test (for 127.0.0.1 at 2022-02-05 04:58:30) [GET]
  Parameters: {"action"=>"cookies_test", "controller"=>"login"}
Debug: login#cookies_test option:
  [4;35;1mOption Load (0.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#cookies_test option: OS is Windows_NT
Debug: login#cookies_test is_remote?: false
  [4;36;1mOption Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#cookies_test set_locale:
Debug: login#cookies_test set_locale: locale is en
Debug: login#cookies_test startup:
Info 05-02-22 0458: login#cookies_test New session
Info 05-02-22 0458: login#cookies_test Startup with release 1.11, version 1750
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Debug: login#cookies_test startup: Current database version is 87
  [4;35;1mDynamicString Columns (67.8ms)[0m   [0mSHOW FIELDS FROM `dynamic_strings`[0m
  [4;36;1mDynamicString Load (0.0ms)[0m   [0;1mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.png') LIMIT 1[0m
  [4;35;1mDynamicString Load (1.0ms)[0m   [0mSELECT * FROM `dynamic_strings` WHERE (`dynamic_strings`.`name` = 'Logo.jpg') LIMIT 1[0m
Debug: login#cookies_test startup: update maps
Debug: login#cookies_test startup: cleanup old leftover space_alloc
  [4;36;1mSpaceAlloc Load (0.0ms)[0m   [0;1mSELECT * FROM `space_allocs` WHERE (updated_at < '2022-02-04') [0m
Debug: login#cookies_test startup: cleanup old reservations past retention date
  [4;35;1mReservation Load (0.0ms)[0m   [0mSELECT * FROM `reservations` WHERE (archived = 1 and updated_on < '2021-01-05') [0m
Debug: login#cookies_test startup: get rid of bogus archives
  [4;36;1mArchive Load (0.0ms)[0m   [0;1mSELECT * FROM `archives` WHERE (reservation_id = 0) [0m
Debug: login#cookies_test startup: cleanup incomplete payments
  [4;35;1mPayment Load (0.0ms)[0m   [0mSELECT * FROM `payments` WHERE (amount = 0.0 and created_at < '2022-02-04 04:58:30' and credit_card_no = '' and cc_fee = 0.0) [0m
Debug: login#cookies_test startup:0 found
Debug: login#cookies_test startup: move charges from measured_charge to charge
  [4;36;1mExtraCharge Load (0.0ms)[0m   [0;1mSELECT * FROM `extra_charges` WHERE (measured_charge != 0.0) [0m
  [4;35;1mExtra Columns (21.9ms)[0m   [0mSHOW FIELDS FROM `extras`[0m
  [4;36;1mExtra Load (0.0ms)[0m   [0;1mSELECT * FROM `extras` WHERE (`extras`.`extra_type` = 3) ORDER BY position[0m
Debug: login#cookies_test startup: clean up unused extra charges
  [4;35;1mExtraCharge Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `extra_charges`[0m
  [4;36;1mExtraCharge Load Including Associations (0.0ms)[0m   [0;1mSELECT `extra_charges`.`id` AS t0_r0, `extra_charges`.`extra_id` AS t0_r1, `extra_charges`.`reservation_id` AS t0_r2, `extra_charges`.`number` AS t0_r3, `extra_charges`.`days` AS t0_r4, `extra_charges`.`weeks` AS t0_r5, `extra_charges`.`months` AS t0_r6, `extra_charges`.`daily_charges` AS t0_r7, `extra_charges`.`weekly_charges` AS t0_r8, `extra_charges`.`monthly_charges` AS t0_r9, `extra_charges`.`initial` AS t0_r10, `extra_charges`.`final` AS t0_r11, `extra_charges`.`measured_charge` AS t0_r12, `extra_charges`.`updated_on` AS t0_r13, `extra_charges`.`charge` AS t0_r14, `extra_charges`.`measured_rate` AS t0_r15, `extra_charges`.`created_on` AS t0_r16, `extra_charges`.`precision` AS t0_r17, `extras`.`id` AS t1_r0, `extras`.`name` AS t1_r1, `extras`.`counted` AS t1_r2, `extras`.`daily` AS t1_r3, `extras`.`weekly` AS t1_r4, `extras`.`monthly` AS t1_r5, `extras`.`onetime` AS t1_r6, `extras`.`charge` AS t1_r7, `extras`.`measured` AS t1_r8, `extras`.`rate` AS t1_r9, `extras`.`unit_name` AS t1_r10, `extras`.`occasional` AS t1_r11, `extras`.`extra_type` AS t1_r12, `extras`.`position` AS t1_r13, `extras`.`remote_display` AS t1_r14, `extras`.`active` AS t1_r15 FROM `extra_charges` LEFT OUTER JOIN `extras` ON `extras`.id = `extra_charges`.extra_id WHERE (initial = 0.0 and final = 0.0 and updated_on < '2022-02-05' and extras.extra_type = 2) [0m
Debug: login#cookies_test display_control: user agent is Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:96.0) Gecko/20100101 Firefox/96.0
Debug: login#cookies_test display_control: browser is ffox
Debug: login#cookies_test set_current_user:
Redirected to http://localhost:3000/login/login
Filter chain halted as [:set_current_user] rendered_or_redirected.
Completed in 448ms (DB: 108) | 302 Found [http://localhost/login/cookies_test]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing LoginController#login (for 127.0.0.1 at 2022-02-05 04:58:30) [GET]
  Parameters: {"action"=>"login", "controller"=>"login"}
Debug: login#login option:
  [4;35;1mOption Load (1.0ms)[0m   [0mSELECT * FROM `options` LIMIT 1[0m
Debug: login#login option: OS is Windows_NT
Debug: login#login is_remote?: false
  [4;36;1mOption Columns (156.5ms)[0m   [0;1mSHOW FIELDS FROM `options`[0m
Debug: login#login cookies_required:
Redirected to http://localhost:3000/login/cookies_test
